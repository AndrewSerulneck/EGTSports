<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marc's Parlays - NFL Betting</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; overflow-x: hidden; }
        .gradient-bg { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); min-height: 100vh; }
        .live-indicator { display: inline-block; width: 8px; height: 8px; background: #ff0000; border-radius: 50%; animation: pulse 1.5s infinite; margin-right: 6px; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        .possession-arrow { color: #ffc107; font-weight: bold; margin-left: 8px; font-size: 16px; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Lock, Unlock, Save, RefreshCw, Users } = lucide;

        function App() {
            const [isAdmin, setIsAdmin] = useState(false);
            const [showAdminLogin, setShowAdminLogin] = useState(false);
            const [showSubmissions, setShowSubmissions] = useState(false);
            const [adminPassword, setAdminPassword] = useState('');
            const [games, setGames] = useState([]);
            const [loading, setLoading] = useState(true);
            const [selectedPicks, setSelectedPicks] = useState({});
            const [showConfirmation, setShowConfirmation] = useState(false);
            const [ticketNumber, setTicketNumber] = useState('');
            const [showCheckout, setShowCheckout] = useState(false);
            const [contactInfo, setContactInfo] = useState({ name: '', email: '', phone: '' });
            const [showPayment, setShowPayment] = useState(false);
            const [submissions, setSubmissions] = useState([]);

            const ADMIN_PASSWORD = 'marc2024';
            const VENMO_USERNAME = 'Marc-Serulneck';
            const GOOGLE_SHEET_URL = 'https://script.google.com/macros/s/AKfycbwUU7CtC2OY-jHq3P5W5ytDm02WSuGQ8R8bSmYvsE20sYb7HZHBKJQIcG8n6Z_K6SlW/exec';

            useEffect(() => { 
                loadGames(); 
                loadSubmissions();
                const interval = setInterval(loadGames, 60000);
                return () => clearInterval(interval);
            }, []);

            const loadGames = async () => {
                setLoading(true);
                try {
                    const stored = localStorage.getItem('marcs-parlays-games');
                    const storedTimestamp = localStorage.getItem('marcs-parlays-timestamp');
                    const now = Date.now();
                    
                    if (stored && storedTimestamp && (now - parseInt(storedTimestamp)) < 300000) {
                        setGames(JSON.parse(stored));
                        setLoading(false);
                        return;
                    }

                    const response = await fetch('https://site.api.espn.com/apis/site/v2/sports/football/nfl/scoreboard');
                    const data = await response.json();
                    
                    const formattedGames = data.events.map((event, index) => {
                        const competition = event.competitions[0];
                        const awayTeam = competition.competitors[1];
                        const homeTeam = competition.competitors[0];
                        const status = event.status.type.state;
                        
                        let possession = null;
                        if (competition.situation && competition.situation.possession) {
                            possession = competition.situation.possession;
                        }

                        const existingGame = stored ? JSON.parse(stored).find(g => g.espnId === event.id) : null;

                        return {
                            id: index + 1,
                            espnId: event.id,
                            date: new Date(event.date).toLocaleDateString('en-US', { weekday: 'long', month: 'short', day: 'numeric' }),
                            time: new Date(event.date).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' }) + ' ET',
                            awayTeam: awayTeam.team.displayName,
                            homeTeam: homeTeam.team.displayName,
                            awayTeamId: awayTeam.id,
                            homeTeamId: homeTeam.id,
                            awayScore: awayTeam.score || '0',
                            homeScore: homeTeam.score || '0',
                            awaySpread: existingGame?.awaySpread || '',
                            homeSpread: existingGame?.homeSpread || '',
                            status: status,
                            statusDetail: event.status.type.detail,
                            clock: event.status.displayClock || '',
                            period: event.status.period || 0,
                            possession: possession,
                            isLive: status === 'in',
                            isFinal: status === 'post'
                        };
                    });

                    setGames(formattedGames);
                    localStorage.setItem('marcs-parlays-timestamp', now.toString());
                } catch (error) {
                    console.error('Error loading games:', error);
                }
                setLoading(false);
            };

            const loadSubmissions = () => {
                const stored = localStorage.getItem('marcs-parlays-submissions');
                if (stored) {
                    setSubmissions(JSON.parse(stored));
                }
            };

            const saveSubmission = async (submission) => {
                const allSubmissions = [...submissions, submission];
                setSubmissions(allSubmissions);
                localStorage.setItem('marcs-parlays-submissions', JSON.stringify(allSubmissions));

                try {
                    await fetch(GOOGLE_SHEET_URL, {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(submission)
                    });
                } catch (error) {
                    console.error('Error sending to Google Sheets:', error);
                }
            };

            const saveGames = () => {
                localStorage.setItem('marcs-parlays-games', JSON.stringify(games));
                localStorage.setItem('marcs-parlays-timestamp', Date.now().toString());
                alert('Games and odds saved successfully!');
            };

            const updateSpread = (gameId, team, value) => {
                setGames(games.map(game => 
                    game.id === gameId 
                        ? { ...game, [team === 'away' ? 'awaySpread' : 'homeSpread']: value }
                        : game
                ));
            };

            const toggleTeam = (gameId, teamType) => {
                setSelectedPicks(prev => {
                    const newPicks = { ...prev };
                    if (newPicks[gameId] === teamType) {
                        delete newPicks[gameId];
                    } else {
                        newPicks[gameId] = teamType;
                    }
                    return newPicks;
                });
            };

            const generateTicketNumber = () => {
                const timestamp = Date.now().toString(36).toUpperCase();
                const random = Math.random().toString(36).substring(2, 8).toUpperCase();
                return `TKT-${timestamp}-${random}`;
            };

            const submitPicks = () => {
                const pickCount = Object.keys(selectedPicks).length;
                if (pickCount < 3) {
                    alert('Please select at least 3 picks to continue!');
                    return;
                }
                setTicketNumber(generateTicketNumber());
                setShowConfirmation(true);
            };

            const handleCheckoutSubmit = () => {
                if (!contactInfo.name || !contactInfo.email || !contactInfo.phone) {
                    alert('Please fill in all contact information');
                    return;
                }
                
                const submission = {
                    ticketNumber,
                    timestamp: new Date().toISOString(),
                    contactInfo,
                    picks: Object.entries(selectedPicks).map(([gameId, teamType]) => {
                        const game = games.find(g => g.id == gameId);
                        return {
                            team: teamType === 'away' ? game.awayTeam : game.homeTeam,
                            spread: teamType === 'away' ? game.awaySpread : game.homeSpread
                        };
                    }),
                    paymentStatus: 'pending'
                };

                console.log('NEW SUBMISSION:', JSON.stringify(submission, null, 2));
                saveSubmission(submission);
                setShowPayment(true);
            };

            const renderGameStatus = (game) => {
                if (game.isLive) {
                    return React.createElement('div', {
                        style: {display: 'flex', alignItems: 'center', gap: '8px', color: '#dc3545', fontWeight: '600', fontSize: '14px'}
                    }, [
                        React.createElement('span', {key: 'indicator', className: 'live-indicator'}),
                        `LIVE - Q${game.period} ${game.clock}`
                    ]);
                } else if (game.isFinal) {
                    return React.createElement('div', {style: {color: '#666', fontWeight: '600', fontSize: '14px'}}, 'FINAL');
                } else {
                    return React.createElement('div', {style: {color: '#666', fontSize: '14px'}}, game.statusDetail);
                }
            };

            const renderPossession = (game, teamId) => {
                if (game.isLive && game.possession === teamId) {
                    return React.createElement('span', {className: 'possession-arrow'}, '●');
                }
                return null;
            };

            if (loading) {
                return React.createElement('div', {
                    className: 'gradient-bg',
                    style: {display: 'flex', alignItems: 'center', justifyContent: 'center', minHeight: '100vh'}
                }, React.createElement('div', {
                    style: {color: 'white', fontSize: '24px'}
                }, 'Loading games from ESPN...'));
            }

            if (showSubmissions && isAdmin) {
                return React.createElement('div', {
                    className: 'gradient-bg',
                    style: {padding: '20px', minHeight: '100vh'}
                }, React.createElement('div', {
                    style: {maxWidth: '1200px', margin: '0 auto'}
                }, [
                    React.createElement('div', {
                        key: 'header',
                        style: {background: 'white', borderRadius: '12px', padding: '24px', marginBottom: '24px'}
                    }, [
                        React.createElement('div', {
                            key: 'headerContent',
                            style: {display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '12px'}
                        }, [
                            React.createElement('h1', {key: 'title', style: {fontSize: '28px'}}, `📊 All Submissions (${submissions.length})`),
                            React.createElement('button', {
                                key: 'backBtn',
                                onClick: () => setShowSubmissions(false),
                                style: {padding: '8px 16px', background: '#6c757d', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600'}
                            }, 'Back to Admin')
                        ])
                    ]),
                    submissions.length === 0 
                        ? React.createElement('div', {
                            key: 'noSubs',
                            style: {background: 'white', borderRadius: '12px', padding: '48px', textAlign: 'center', color: '#666'}
                        }, React.createElement('p', {style: {fontSize: '18px'}}, 'No submissions yet'))
                        : React.createElement('div', {
                            key: 'subsList',
                            style: {display: 'grid', gap: '16px'}
                        }, submissions.slice().reverse().map((sub, idx) => 
                            React.createElement('div', {
                                key: idx,
                                style: {background: 'white', borderRadius: '12px', padding: '24px'}
                            }, [
                                React.createElement('div', {
                                    key: 'subHeader',
                                    style: {display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '16px', flexWrap: 'wrap', gap: '12px'}
                                }, [
                                    React.createElement('div', {key: 'ticketInfo'}, [
                                        React.createElement('div', {key: 'ticket', style: {fontSize: '20px', fontWeight: 'bold', color: '#28a745', marginBottom: '4px'}}, sub.ticketNumber),
                                        React.createElement('div', {key: 'time', style: {color: '#666', fontSize: '14px'}}, new Date(sub.timestamp).toLocaleString())
                                    ]),
                                    React.createElement('div', {
                                        key: 'status',
                                        style: {padding: '6px 12px', background: sub.paymentStatus === 'pending' ? '#ffc107' : '#28a745', color: 'white', borderRadius: '6px', fontSize: '12px', fontWeight: '600', textTransform: 'uppercase'}
                                    }, sub.paymentStatus)
                                ]),
                                React.createElement('div', {
                                    key: 'contact',
                                    style: {marginBottom: '16px', padding: '16px', background: '#f8f9fa', borderRadius: '8px'}
                                }, [
                                    React.createElement('div', {key: 'name', style: {marginBottom: '8px'}}, [React.createElement('strong', {}, 'Name: '), sub.contactInfo.name]),
                                    React.createElement('div', {key: 'email', style: {marginBottom: '8px'}}, [React.createElement('strong', {}, 'Email: '), sub.contactInfo.email]),
                                    React.createElement('div', {key: 'phone'}, [React.createElement('strong', {}, 'Phone: '), sub.contactInfo.phone])
                                ]),
                                React.createElement('div', {key: 'picks'}, [
                                    React.createElement('strong', {key: 'picksLabel', style: {display: 'block', marginBottom: '12px', fontSize: '16px'}}, `Picks (${sub.picks.length}):`),
                                    React.createElement('div', {key: 'picksList', style: {display: 'grid', gap: '8px'}},
                                        sub.picks.map((pick, i) => React.createElement('div', {
                                            key: i,
                                            style: {padding: '12px', background: '#f8f9fa', borderRadius: '6px', display: 'flex', justifyContent: 'space-between'}
                                        }, [
                                            React.createElement('span', {key: 'team', style: {fontWeight: '600'}}, pick.team),
                                            React.createElement('span', {key: 'spread', style: {color: '#666'}}, pick.spread)
                                        ]))
                                    )
                                ])
                            ])
                        ))
                ]));
            }

            if (isAdmin) {
                return React.createElement('div', {
                    className: 'gradient-bg',
                    style: {padding: '20px', minHeight: '100vh'}
                }, React.createElement('div', {
                    style: {maxWidth: '1000px', margin: '0 auto'}
                }, [
                    React.createElement('div', {
                        key: 'adminHeader',
                        style: {background: 'white', borderRadius: '12px', padding: '24px', marginBottom: '24px'}
                    }, [
                        React.createElement('div', {
                            key: 'adminHeaderContent',
                            style: {display: 'flex', justifyContent: 'space-between', marginBottom: '16px', flexWrap: 'wrap', gap: '12px', alignItems: 'center'}
                        }, [
                            React.createElement('h1', {key: 'title', style: {fontSize: '28px'}}, '🔧 Admin Panel'),
                            React.createElement('div', {key: 'btns', style: {display: 'flex', gap: '8px', flexWrap: 'wrap'}}, [
                                React.createElement('button', {
                                    key: 'subsBtn',
                                    onClick: () => setShowSubmissions(true),
                                    style: {padding: '10px 16px', background: '#007bff', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600'}
                                }, `Submissions (${submissions.length})`),
                                React.createElement('button', {
                                    key: 'exitBtn',
                                    onClick: () => setIsAdmin(false),
                                    style: {padding: '10px 16px', background: '#6c757d', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600'}
                                }, 'Exit Admin')
                            ])
                        ]),
                        React.createElement('button', {
                            key: 'refreshBtn',
                            onClick: loadGames,
                            style: {padding: '10px 16px', background: '#007bff', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600'}
                        }, 'Refresh from ESPN')
                    ]),
                    React.createElement('div', {key: 'gamesList', style: {display: 'grid', gap: '16px', marginBottom: '24px'}},
                        games.map(game => React.createElement('div', {
                            key: game.id,
                            style: {background: 'white', borderRadius: '12px', padding: '24px'}
                        }, [
                            React.createElement('div', {
                                key: 'gameHeader',
                                style: {display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px', flexWrap: 'wrap', gap: '12px'}
                            }, [
                                React.createElement('div', {key: 'date', style: {color: '#666', fontSize: '14px'}}, `${game.date} - ${game.time}`),
                                renderGameStatus(game)
                            ]),
                            (game.isLive || game.isFinal) && React.createElement('div', {
                                key: 'score',
                                style: {background: '#f8f9fa', padding: '16px', borderRadius: '8px', marginBottom: '16px', textAlign: 'center'}
                            }, React.createElement('div', {style: {fontSize: '24px', fontWeight: 'bold', color: '#333'}},
                                `${game.awayTeam} ${game.awayScore} - ${game.homeScore} ${game.homeTeam}`
                            )),
                            React.createElement('div', {key: 'spreads', style: {display: 'grid', gap: '12px'}}, [
                                React.createElement('div', {key: 'away'}, [
                                    React.createElement('label', {key: 'awayLabel', style: {display: 'block', fontWeight: '600', marginBottom: '8px', color: '#333'}}, `${game.awayTeam} (Away)`),
                                    React.createElement('input', {
                                        key: 'awayInput',
                                        type: 'text',
                                        value: game.awaySpread,
                                        onChange: (e) => updateSpread(game.id, 'away', e.target.value),
                                        placeholder: '+3.5',
                                        style: {width: '100%', padding: '12px', border: '2px solid #e0e0e0', borderRadius: '8px', fontSize: '16px'}
                                    })
                                ]),
                                React.createElement('div', {key: 'home'}, [
                                    React.createElement('label', {key: 'homeLabel', style: {display: 'block', fontWeight: '600', marginBottom: '8px', color: '#333'}}, `${game.homeTeam} (Home)`),
                                    React.createElement('input', {
                                        key: 'homeInput',
                                        type: 'text',
                                        value: game.homeSpread,
                                        onChange: (e) => updateSpread(game.id, 'home', e.target.value),
                                        placeholder: '-3.5',
                                        style: {width: '100%', padding: '12px', border: '2px solid #e0e0e0', borderRadius: '8px', fontSize: '16px'}
                                    })
                                ])
                            ])
                        ]))
                    ),
                    React.createElement('div', {key: 'saveBtn', style: {background: 'white', borderRadius: '12px', padding: '24px'}},
                        React.createElement('button', {
                            onClick: saveGames,
                            style: {width: '100%', padding: '16px', background: '#28a745', color: 'white', fontSize: '18px', fontWeight: '600', border: 'none', borderRadius: '8px', cursor: 'pointer'}
                        }, 'Save All Games & Odds')
                    )
                ]));
            }

            if (showAdminLogin) {
                return React.createElement('div', {
                    className: 'gradient-bg',
                    style: {padding: '20px', minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center'}
                }, React.createElement('div', {style: {maxWidth: '400px', width: '100%'}},
                    React.createElement('div', {style: {background: 'white', borderRadius: '12px', padding: '32px'}}, [
                        React.createElement('h2', {key: 'title', style: {textAlign: 'center', marginBottom: '24px', fontSize: '24px', fontWeight: 'bold'}}, 'Admin Login'),
                        React.createElement('input', {
                            key: 'passInput',
                            type: 'password',
                            value: adminPassword,
                            onChange: (e) => setAdminPassword(e.target.value),
                            onKeyPress: (e) => e.key === 'Enter' && adminPassword === ADMIN_PASSWORD && setIsAdmin(true),
                            placeholder: 'Enter password',
                            style: {width: '100%', padding: '12px', border: '2px solid #e0e0e0', borderRadius: '8px', marginBottom: '16px', fontSize: '16px'}
                        }),
                        React.createElement('button', {
                            key: 'loginBtn',
                            onClick: () => adminPassword === ADMIN_PASSWORD ? setIsAdmin(true) : alert('Incorrect password'),
                            style: {width: '100%', padding: '12px', background: '#007bff', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', marginBottom: '12px', fontWeight: '600', fontSize: '16px'}
                        }, 'Login'),
                        React.createElement('button', {
                            key: 'backBtn',
                            onClick: () => setShowAdminLogin(false),
                            style: {width: '100%', padding: '12px', background: '#6c757d', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600', fontSize: '16px'}
                        }, 'Back to Main Site')
                    ])
                ));
            }

            if (showCheckout) {
                const pickCount = Object.keys(selectedPicks).length;
                return React.createElement('div', {
                    className: 'gradient-bg',
                    style: {padding: '20px', minHeight: '100vh'}
                }, React.createElement('div', {style: {maxWidth: '600px', margin: '0 auto'}}, [
                    React.createElement('div', {key: 'checkoutHeader', style: {textAlign: 'center', color: 'white', marginBottom: '32px'}}, [
                        React.createElement('h1', {key: 'title', style: {fontSize: '32px', fontWeight: 'bold'}}, '💳 Checkout'),
                        React.createElement('p', {key: 'subtitle', style: {fontSize: '18px', marginTop: '8px'}}, 'Complete your entry')
                    ]),
                    React.createElement('button', {
                        key: 'backBtn',
                        onClick: () => setShowCheckout(false),
                        style: {marginBottom: '16px', padding: '10px 20px', background: '#6c757d', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600'}
                    }, '← Back to Picks'),
                    React.createElement('div', {key: 'checkoutCard', style: {background: 'white', borderRadius: '12px', padding: '32px'}}, [
                        React.createElement('div', {key: 'ticketDisplay', style: {background: '#f8f9fa', padding: '20px', borderRadius: '8px', textAlign: 'center', marginBottom: '24px'}}, [
                            React.createElement('div', {key: 'label', style: {fontSize: '12px', color: '#666', marginBottom: '8px', textTransform: 'uppercase', fontWeight: '600'}}, 'Your Ticket Number'),
                            React.createElement('div', {key: 'number', style: {fontSize: '28px', fontWeight: 'bold', color: '#28a745', letterSpacing: '2px'}}, ticketNumber)
                        ]),
                        React.createElement('h3', {key: 'picksTitle', style: {marginBottom: '16px', fontSize: '20px', fontWeight: 'bold'}}, `Your Picks (${pickCount})`),
                        React.createElement('div', {key: 'picksList', style: {marginBottom: '24px'}},
                            Object.entries(selectedPicks).map(([gameId, teamType]) => {
                                const game = games.find(g => g.id == gameId);
                                const team = teamType === 'away' ? game.awayTeam : game.homeTeam;
                                const spread = teamType === 'away' ? game.awaySpread : game.homeSpread;
                                return React.createElement('div', {
                                    key: gameId,
                                    style: {display: 'flex', justifyContent: 'space-between', padding: '12px', background: '#f8f9fa', borderRadius: '8px', marginBottom: '8px'}
                                }, [
                                    React.createElement('span', {key: 'team', style: {fontWeight: '600'}}, team),
                                    React.createElement('span', {key: 'spread', style: {color: '#666'}}, spread)
                                ]);
                            })
                        ),
                        React.createElement('h3', {key: 'contactTitle', style: {marginTop: '32px', marginBottom: '16px', fontSize: '20px', fontWeight: 'bold'}}, 'Contact Information'),
                        React.createElement('div', {key: 'nameGroup', style: {marginBottom: '16px'}}, [
                            React.createElement('label', {key: 'nameLabel', style: {display: 'block', fontWeight: '600', marginBottom: '8px'}}, 'Full Name *'),
                            React.createElement('input', {
                                key: 'nameInput',
                                type: 'text',
                                value: contactInfo.name,
                                onChange: (e) => setContactInfo({...contactInfo, name: e.target.value}),
                                style: {width: '100%', padding: '12px', border: '2px solid #e0e0e0', borderRadius: '8px', fontSize: '16px'}
                            })
                        ]),
                        React.createElement('div', {key: 'emailGroup', style: {marginBottom: '16px'}}, [
                            React.createElement('label', {key: 'emailLabel', style: {display: 'block', fontWeight: '600', marginBottom: '8px'}}, 'Email Address *'),
                            React.createElement('input', {
                                key: 'emailInput',
                                type: 'email',
                                value: contactInfo.email,
                                onChange: (e) => setContactInfo({...contactInfo, email: e.target.value}),
                                style: {width: '100%', padding: '12px', border: '2px solid #e0e0e0', borderRadius: '8px', fontSize: '16px'}
                            })
                        ]),
                        React.createElement('div', {key: 'phoneGroup', style: {marginBottom: '16px'}}, [
                            React.createElement('label', {key: 'phoneLabel', style: {display: 'block', fontWeight: '600', marginBottom: '8px'}}, 'Phone Number *'),
                            React.createElement('input', {
                                key: 'phoneInput',
                                type: 'tel',
                                value: contactInfo.phone,
                                onChange: (e) => setContactInfo({...contactInfo, phone: e.target.value}),
                                placeholder: '(555) 123-4567',
                                style: {width: '100%', padding: '12px', border: '2px solid #e0e0e0', borderRadius: '8px', fontSize: '16px'}
                            })
                        ]),
                        React.createElement('button', {
                            key: 'submitBtn',
                            onClick: handleCheckoutSubmit,
                            style: {width: '100%', padding: '16px', background: '#28a745', color: 'white', fontSize: '18px', fontWeight: '600', border: 'none', borderRadius: '8px', cursor: 'pointer', marginTop: '24px'}
                        }, 'Continue to Payment →'),
                        showPayment && React.createElement('div', {key: 'payment', style: {marginTop: '32px', paddingTop: '32px', borderTop: '2px solid #e0e0e0'}}, [
                            React.createElement('h3', {key: 'paymentTitle', style: {textAlign: 'center', marginBottom: '16px', fontSize: '22px', fontWeight: 'bold'}}, '💰 Payment'),
                            React.createElement('div', {key: 'paymentInfo', style: {background: '#f8f9fa', padding: '20px', borderRadius: '8px', textAlign: 'center', marginBottom: '20px'}}, [
                                React.createElement('p', {key: 'text', style: {fontSize: '16px', marginBottom: '8px'}}, 'Venmo your wager amount to complete your entry'),
                                React.createElement('p', {key: 'username', style: {fontSize: '18px', fontWeight: 'bold', color: '#333'}}, '@' + VENMO_USERNAME)
                            ]),
                            React.createElement('a', {
                                key: 'venmoBtn',
                                href: `venmo://paycharge?txn=pay&recipients=${VENMO_USERNAME}&note=${encodeURIComponent("Marc's Parlays - " + ticketNumber)}`,
                                style: {display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '12px', padding: '18px', background: '#008CFF', color: 'white', textAlign: 'center', textDecoration: 'none', borderRadius: '8px', fontWeight: '600', fontSize: '18px'}
                            }, [
                                React.createElement('span', {key: 'icon', style: {fontSize: '28px', fontWeight: 'bold'}}, 'V'),
                                'Pay with Venmo'
                            ]),
                            React.createElement('div', {key: 'warning', style: {marginTop: '16px', padding: '16px', background: '#fff3cd', border: '2px solid #ffc107', borderRadius: '8px', fontSize: '14px', color: '#856404'}},
                                React.createElement('span', {}, [
                                    React.createElement('strong', {key: 'label'}, '⚠️ Important: '),
                                    'Your ticket number will be automatically included in the Venmo payment note. Please do not change it.'
                                ])
                            )
                        ])
                    ])
                ]));
            }

            const pickCount = Object.keys(selectedPicks).length;
            const canSubmit = pickCount >= 3;

            return React.createElement('div', {className: 'gradient-bg', style: {padding: '20px'}},
                React.createElement('div', {style: {maxWidth: '1000px', margin: '0 auto'}}, [
                    React.createElement('div', {key: 'header', style: {textAlign: 'center', color: 'white', marginBottom: '32px'}}, [
                        React.createElement('h1', {key: 'title', style: {fontSize: '42px', fontWeight: 'bold', marginBottom: '8px'}}, '🏈 Marc\'s Parlays'),
                        React.createElement('p', {key: 'subtitle', style: {fontSize: '22px'}}, 'NFL Betting Pool'),
                        React.createElement('button', {
                            key: 'adminBtn',
                            onClick: () => setShowAdminLogin(true),
                            style: {marginTop: '16px', padding: '10px 20px', background: 'rgba(0,0,0,0.3)', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600', fontSize: '14px'}
                        }, 'Admin Login')
                    ]),
                    React.createElement('div', {key: 'payouts', style: {background: 'white', borderRadius: '12px', padding: '24px', marginBottom: '32px'}}, [
                        React.createElement('h2', {key: 'payoutsTitle', style: {textAlign: 'center', marginBottom: '20px', fontSize: '26px', fontWeight: 'bold'}}, '💰 Payout Odds'),
                        React.createElement('div', {key: 'payoutsGrid', style: {display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(140px, 1fr))', gap: '12px'}},
                            [{picks: 3, payout: '2 to 1'}, {picks: 4, payout: '3 to 1'}, {picks: 5, payout: '4 to 1'}, {picks: 6, payout: '5 to 1'}, {picks: 7, payout: '6 to 1'}, {picks: 8, payout: '7 to 1'}, {picks: 9, payout: '8 to 1'}, {picks: 10, payout: '10 to 1'}].map(item =>
                                React.createElement('div', {key: item.picks, style: {background: '#f8f9fa', padding: '14px', borderRadius: '8px', textAlign: 'center', border: '2px solid #e0e0e0'}}, [
                                    React.createElement('div', {key: 'label', style: {fontSize: '14px', color: '#666', marginBottom: '4px'}}, `${item.picks} for ${item.picks} pays`),
                                    React.createElement('div', {key: 'payout', style: {fontSize: '20px', fontWeight: 'bold', color: '#28a745'}}, item.payout)
                                ])
                            )
                        )
                    ]),
                    React.createElement('div', {key: 'games', style: {marginBottom: '32px'}},
                        games.map(game => React.createElement('div', {
                            key: game.id,
                            style: {background: 'white', borderRadius: '12px', padding: '24px', marginBottom: '16px'}
                        }, [
                            React.createElement('div', {key: 'gameHeader', style: {display: 'flex', justifyContent: 'space-between', marginBottom: '16px', paddingBottom: '12px', borderBottom: '2px solid #f0f0f0', alignItems: 'center', flexWrap: 'wrap', gap: '12px'}}, [
                                React.createElement('span', {key: 'dateTime', style: {color: '#666', fontSize: '14px'}}, `${game.date} - ${game.time}`),
                                renderGameStatus(game)
                            ]),
                            (game.isLive || game.isFinal) && React.createElement('div', {key: 'score', style: {background: '#f8f9fa', padding: '20px', borderRadius: '8px', marginBottom: '16px', textAlign: 'center'}}, [
                                React.createElement('div', {key: 'scoreText', style: {fontSize: '28px', fontWeight: 'bold', color: '#333', marginBottom: '8px'}}, `${game.awayTeam} ${game.awayScore} - ${game.homeScore} ${game.homeTeam}`),
                                game.isLive && React.createElement('div', {key: 'clock', style: {color: '#666', fontSize: '16px'}}, `Quarter ${game.period} - ${game.clock}`)
                            ]),
                            React.createElement('div', {
                                key: 'awayTeam',
                                onClick: () => !game.isLive && !game.isFinal && toggleTeam(game.id, 'away'),
                                style: {display: 'flex', justifyContent: 'space-between', padding: '16px', borderRadius: '8px', cursor: game.isLive || game.isFinal ? 'not-allowed' : 'pointer', marginBottom: '12px', background: selectedPicks[game.id] === 'away' ? '#d4edda' : '#f8f9fa', border: selectedPicks[game.id] === 'away' ? '2px solid #28a745' : '2px solid transparent', opacity: game.isLive || game.isFinal ? 0.6 : 1}
                            }, [
                                React.createElement('div', {key: 'awayInfo', style: {display: 'flex', alignItems: 'center', gap: '12px', flexWrap: 'wrap'}}, [
                                    !game.isLive && !game.isFinal && React.createElement('input', {key: 'checkbox', type: 'checkbox', checked: selectedPicks[game.id] === 'away', onChange: () => {}, style: {width: '20px', height: '20px', cursor: 'pointer'}}),
                                    React.createElement('span', {key: 'name', style: {fontWeight: '600', fontSize: '17px'}}, game.awayTeam),
                                    renderPossession(game, game.awayTeamId),
                                    React.createElement('span', {key: 'label', style: {fontSize: '12px', background: '#e9ecef', padding: '4px 10px', borderRadius: '4px', fontWeight: '600'}}, 'AWAY')
                                ]),
                                React.createElement('span', {key: 'spread', style: {fontWeight: '600', fontSize: '17px', color: '#333'}}, game.awaySpread)
                            ]),
                            React.createElement('div', {key: 'vs', style: {textAlign: 'center', color: '#999', margin: '12px 0', fontWeight: '600', fontSize: '16px'}}, '@'),
                            React.createElement('div', {
                                key: 'homeTeam',
                                onClick: () => !game.isLive && !game.isFinal && toggleTeam(game.id, 'home'),
                                style: {display: 'flex', justifyContent: 'space-between', padding: '16px', borderRadius: '8px', cursor: game.isLive || game.isFinal ? 'not-allowed' : 'pointer', background: selectedPicks[game.id] === 'home' ? '#d4edda' : '#f8f9fa', border: selectedPicks[game.id] === 'home' ? '2px solid #28a745' : '2px solid transparent', opacity: game.isLive || game.isFinal ? 0.6 : 1}
                            }, [
                                React.createElement('div', {key: 'homeInfo', style: {display: 'flex', alignItems: 'center', gap: '12px', flexWrap: 'wrap'}}, [
                                    !game.isLive && !game.isFinal && React.createElement('input', {key: 'checkbox', type: 'checkbox', checked: selectedPicks[game.id] === 'home', onChange: () => {}, style: {width: '20px', height: '20px', cursor: 'pointer'}}),
                                    React.createElement('span', {key: 'name', style: {fontWeight: '600', fontSize: '17px'}}, game.homeTeam),
                                    renderPossession(game, game.homeTeamId),
                                    React.createElement('span', {key: 'label', style: {fontSize: '12px', background: '#e9ecef', padding: '4px 10px', borderRadius: '4px', fontWeight: '600'}}, 'HOME')
                                ]),
                                React.createElement('span', {key: 'spread', style: {fontWeight: '600', fontSize: '17px', color: '#333'}}, game.homeSpread)
                            ])
                        ]))
                    ),
                    React.createElement('div', {key: 'submitSection', style: {textAlign: 'center', marginBottom: '32px'}}, [
                        React.createElement('div', {key: 'count', style: {color: 'white', fontSize: '22px', marginBottom: '16px', fontWeight: '600'}}, [
                            `Selected: ${pickCount} pick${pickCount !== 1 ? 's' : ''}`,
                            !canSubmit && React.createElement('span', {key: 'warning', style: {color: '#ffc107', display: 'block', marginTop: '8px', fontSize: '18px'}}, '(minimum 3 required)')
                        ]),
                        React.createElement('button', {
                            key: 'submitBtn',
                            onClick: submitPicks,
                            disabled: !canSubmit,
                            style: {padding: '18px 56px', background: canSubmit ? '#28a745' : '#6c757d', color: 'white', fontSize: '22px', fontWeight: 'bold', border: 'none', borderRadius: '10px', cursor: canSubmit ? 'pointer' : 'not-allowed', opacity: canSubmit ? 1 : 0.7}
                        }, canSubmit ? 'Submit Picks' : `Select ${3 - pickCount} More Pick${3 - pickCount !== 1 ? 's' : ''}`)
                    ]),
                    React.createElement('div', {key: 'rules', style: {background: 'white', borderRadius: '12px', padding: '32px'}}, [
                        React.createElement('h3', {key: 'title', style: {marginBottom: '20px', fontSize: '22px', fontWeight: 'bold'}}, '📋 Important Rules'),
                        React.createElement('ul', {key: 'list', style: {marginLeft: '20px', lineHeight: '2', color: '#333', fontSize: '16px'}}, [
                            React.createElement('li', {key: 'r1'}, React.createElement('strong', {}, 'Minimum 3 picks required'), ' to submit'),
                            React.createElement('li', {key: 'r2'}, 'Missing or incorrect contact info = voided ticket'),
                            React.createElement('li', {key: 'r3'}, ['All plays must be ', React.createElement('strong', {key: 's1'}, 'paid in advance'), ' via Venmo to ', React.createElement('strong', {key: 's2'}, '@' + VENMO_USERNAME)]),
                            React.createElement('li', {key: 'r4'}, ['Winners will be paid the ', React.createElement('strong', {key: 's'}, 'following Tuesday'), ' after games conclude']),
                            React.createElement('li', {key: 'r5'}, 'Cannot bet on games that have already started')
                        ]),
                        React.createElement('div', {key: 'disclaimer', style: {background: '#fff3cd', border: '2px solid #ffc107', borderRadius: '8px', padding: '20px', marginTop: '24px'}},
                            React.createElement('p', {style: {fontSize: '15px', color: '#856404', lineHeight: '1.6'}}, [
                                React.createElement('strong', {key: 'label', style: {display: 'block', marginBottom: '10px', fontSize: '17px'}}, '⚠️ Legal Disclaimer'),
                                'This platform is for entertainment purposes only. Participants must be 21 years of age or older. This is a private pool among friends and is not affiliated with any professional sports organization. Participation may not be legal in all jurisdictions - please check your local laws. By participating, you acknowledge that you are solely responsible for compliance with all applicable laws and regulations. The organizer assumes no liability for any losses, disputes, or legal issues arising from participation.'
                            ])
                        )
                    ]),
                    showConfirmation && React.createElement('div', {key: 'modal', style: {position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', background: 'rgba(0,0,0,0.75)', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '20px', zIndex: 1000}},
                        React.createElement('div', {style: {background: 'white', borderRadius: '12px', padding: '40px', maxWidth: '500px', width: '100%'}}, [
                            React.createElement('h2', {key: 'title', style: {fontSize: '32px', color: '#28a745', textAlign: 'center', marginBottom: '20px', fontWeight: 'bold'}}, '✅ Picks Submitted!'),
                            React.createElement('p', {key: 'text', style: {textAlign: 'center', color: '#666', marginBottom: '16px', fontSize: '16px'}}, 'Your ticket number is:'),
                            React.createElement('div', {key: 'ticket', style: {background: '#f8f9fa', padding: '20px', borderRadius: '8px', textAlign: 'center', marginBottom: '24px'}},
                                React.createElement('div', {style: {fontSize: '28px', fontWeight: 'bold', letterSpacing: '2px', color: '#333'}}, ticketNumber)
                            ),
                            React.createElement('div', {key: 'picks', style: {background: '#f8f9fa', padding: '20px', borderRadius: '8px', marginBottom: '24px'}}, [
                                React.createElement('strong', {key: 'label', style: {display: 'block', marginBottom: '16px', fontSize: '18px'}}, `Your ${pickCount} Pick${pickCount !== 1 ? 's' : '}:`),
                                ...Object.entries(selectedPicks).map(([gameId, teamType]) => {
                                    const game = games.find(g => g.id == gameId);
                                    const team = teamType === 'away' ? game.awayTeam : game.homeTeam;
                                    const spread = teamType === 'away' ? game.awaySpread : game.homeSpread;
                                    return React.createElement('div', {key: gameId, style: {padding: '10px 0', borderBottom: '1px solid #dee2e6', display: 'flex', justifyContent: 'space-between'}}, [
                                        React.createElement('strong', {key: 'team', style: {color: '#333'}}, team),
                                        React.createElement('span', {key: 'spread', style: {color: '#666'}}, `(${spread})`)
                                    ]);
                                })
                            ]),
                            React.createElement('p', {key: 'save', style: {textAlign: 'center', color: '#666', fontSize: '14px', marginBottom: '24px'}}, '📝 Save this ticket number for your records'),
                            React.createElement('button', {
                                key: 'continueBtn',
                                onClick: () => { setShowConfirmation(false); setShowCheckout(true); },
                                style: {width: '100%', padding: '14px', background: '#007bff', color: 'white', fontWeight: '600', fontSize: '18px', border: 'none', borderRadius: '8px', cursor: 'pointer'}
                            }, 'Continue to Checkout')
                        ])
                    )
                ])
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>
</html>
